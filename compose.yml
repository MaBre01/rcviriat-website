networks:
  server_proxy:
    external: true

services:
  webserver:
    image: nginx:alpine
    networks:
      - server_proxy
    volumes:
      - ./index.html:/usr/share/nginx/html/index.html:ro
      - ./logo.jpg:/usr/share/nginx/html/logo.jpg:ro
    labels:
      - traefik.enable=true
      - traefik.http.routers.${APP_PREFIX}_secure.entrypoints=websecure
      - traefik.http.routers.${APP_PREFIX}_secure.rule=Host(`${APP_URL}`)
      - traefik.http.routers.${APP_PREFIX}_secure.tls=true

      - ghosts.host=${APP_URL}
      - ghosts.category=Websites
      - ghosts.description=Rugby Club Viriat website
      - ghosts.proto=https
